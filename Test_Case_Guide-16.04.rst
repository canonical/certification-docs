==================================================================
 Ubuntu Server Hardware Certification Test Case Guide (16.04 LTS)
==================================================================

.. include:: <isonum.txt>

.. header:: |ubuntu_logo|

.. |ubuntu_logo| image:: images/logo-ubuntu_su-white_orange-hex.png
   :scale: 20%

.. footer:: |canonical_logo|

.. |canonical_logo| image:: images/logo-canonical_no-tm-white-hex.png
   :scale: 10%

.. raw:: pdf

   PageBreak oneColumn

.. contents::

.. raw:: pdf

   PageBreak

.. role:: green-text

Introduction
============

This guide describes the tests performed in Ubuntu server certification
testing. Tests are grouped by category, such as "cpu," "ethernet," and
"memory." A brief description follows each test.

Tests
=====

benchmarks
----------

benchmarks/disk/hdparm-cache-read
 Cached read timing benchmark of each disk using hdparm.

benchmarks/disk/hdparm-read
 Raw read timing benchmark of each disk using hdparm.

cpu
---

cpu/clocktest
 Tests the CPU for clock jitter.

cpu/maxfreq_test
 Test that the CPU can run at its max frequency using Firmware Test Suite
 (fwts cpufreq).

cpu/maxfreq_test-log-attach
 Attaches the log generated by cpu/maxfreq_test to the results submission.

cpu/offlining_test
 Test offlining of each CPU core in a multicore system.

cpu/scaling_test
 Test the CPU scaling capabilities using Firmware Test Suite (fwts cpufreq).

cpu/scaling_test-log-attach
 Attaches the log generated by cpu/scaling_test to the results submission.

cpu/topology
 This test checks cpu topology for accuracy between proc and sysfs.

disk
----

disk/detect
 Displays information about each disk detected on the system under test.

disk/read_performance
 Verify system storage performs at or above a baseline speed.

disk/smart
 This tests the SMART capabilities of disks detected on the system.

disk/stats
 This test generates some disk activity and checks the stats to ensure drive
 activity is being recorded properly.

disk/storage_devices
 Verify that storage devices, such as Fibre Channel and RAID, perform under
 stress without data loss or corruption.

ethernet
--------

ethernet/detect
 Test to detect and return information about available network controllers
 on the system under test.

ethernet/ethtool_info
 No description available

ethernet/info_automated
 Gathers some info on the current state of your network devices. If no
 devices are found, the test will exit with an error.

ethernet/multi_iperf3_nic
 This test uses iperf3 to ensure network devices pass data at an acceptable
 minimum percentage of advertized speed.

ethernet/multi_nic
 This test uses iperf to ensure network devices pass data at an acceptable
 minimum percentage of advertized speed.

info
----

cpuinfo_attachment
 Attaches a report of CPU information

dmesg_attachment
 Attaches a copy of /var/log/dmesg to the test results

dmi_attachment
 Attaches info on DMI

dmidecode_attachment
 Attaches dmidecode output

efi_attachment
 Attaches the firmware version

info/disk_partitions
 Attaches information about disk partitions

info/hdparm
 Attaches SATA/IDE device information reported by hdparm.

lshw_attachment
 Attaches lshw output

lsmod_attachment
 Attaches a list of the currently running kernel modules.

lspci_attachment
 Attaches very verbose lspci output.

lsusb_attachment
 Attaches a list of detected USB devices.

meminfo_attachment
 Attaches info on system memory as seen in /proc/meminfo.

modprobe_attachment
 Attaches the contents of the various modprobe conf files.

modules_attachment
 Attaches the contents of the /etc/modules file.

sysctl_attachment
 Attaches the contents of various sysctl config files.

sysfs_attachment
 Attaches a report of sysfs attributes.

udev_attachment
 Attaches a dump of the udev database showing system hardware information.

memory
------

memory/check
 Test to perform some basic stress and exercise of system memory. This test
 also includes an over-commit function to force swapping to disk, thus
 SUTs should have suitably large swap files for the amount of RAM they
 have installed.

memory/info
 This test checks the amount of memory which is reporting in meminfo against
 the size of the memory modules detected by DMI.

miscellanea
-----------

miscellanea/bmc_info
 This will gather some info about the BMC itself for diagnostic purposes.
 This will not works on non-IPMI systems like AMT and blade/sled type
 systems.

miscellanea/boot_mode
 Test to verify that the system booted in EFI mode rather than Legacy/BIOS
 mode.

miscellanea/cpus_are_not_samples
 Sanity check of CPU information; fails if CPU is an engineering sample

miscellanea/dmitest_server
 Sanity check of DMI system identification data (for servers)

miscellanea/fwts_results.log
 Attaches the miscellanes/fwts_test results log to the submission.

miscellanea/fwts_test
 Run Firmware Test Suite (fwts) automated tests.

miscellanea/get_maas_version
 If system was installed via MAAS from a cert server, the MAAS version used
 should be contained in /etc/installed-by-maas

miscellanea/get_maas_version
 If system was installed via MAAS from a cert server, the MAAS version used
 should be contained in /etc/installed-by-maas

miscellanea/get_make_and_model
 Retrieve the computer's make and model for easier access than digging
 through the dmidecode output.

miscellanea/ipmi_test
 This will run some basic commands in-band against a BMC, verifying that
 IPMI works. Use of MAAS to deploy the system implicitly tests out-of-band
 BMC control.

optical
-------

optical/detect
 Detects optical drives (CD/DVD) attached to the system.

optical/read-automated
 Automated test to read a data CD/DVD and ensure the optical drive works
 properly.

power-management
----------------

power-management/rtc
 Verify that the Real-time clock (RTC) device functions properly, if
 present.

stress
------

stress/cpu_stress_test
 Simulate high system load using the 'stress' tool to exercise the CPU for
 several hours. The test is considered passed if the system does not
 freeze or abend.

uncategorized
-------------

miscellanea/submission-resources
 A meta-job that verifies the data necessary for a complete result
 submission are present. Failure indicates that the results are incomplete
 and may be rejected.

usb
---

usb/detect
 Detects and shows USB devices attached to this system.

usb/storage-preinserted
 Tests USB 2.0 or 1.1 ports on a system by doing write/read/compare tests on
 randomly created data. It requires that a USB stick is plugged into an
 available USB port before running the certification suite.

usb3/storage-preinserted
 Tests USB 3.0 ports on a system by doing write/read/compare tests on
 randomly created data. It requires that a USB stick is plugged into an
 available USB port before running the certification suite. Additionally,
 it will only work with USB sticks and ports rated for USB 3.0 speeds or
 faster.

virtualization
--------------

info/kvm_output
 Attaches the debug log from the virtualization/kvm_check_vm test to the
 results submission.

virtualization/kvm_check_vm
 Verifies that a KVM guest can be created and booted using an Ubuntu Server
 cloud image.

